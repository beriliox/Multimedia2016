    function __(id) {
      return document.getElementById(id);
    }

    $(document).ready(function(){
        $("#inputNombres").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputApellidoP").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputApellidoM").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputCiudad").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputRut").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57)){
                event.preventDefault();
            }
        });
    });


    $(document).ready(function(){
        $("#inputPromocion").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputDigVer").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57) && (inputValue != 75 && inputValue != 107)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputNombres_al").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputApellidoP_al").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputApellidoM_al").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputCiudad_al").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputRut_al").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57)){
                event.preventDefault();
            }
        });
    });


    $(document).ready(function(){
        $("#inputPromocion_al").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputDigVer_al").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57) && (inputValue != 75 && inputValue != 107)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputNombres_c").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputApellidoP_c").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputApellidoM_c").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputCiudad_c").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputRut_c").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputPromocion_c").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputDigVer_c").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57) && (inputValue != 75 && inputValue != 107)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputNombres_coord").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputApellidoP_coord").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputApellidoM_coord").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputCiudad_coord").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputRut_coord").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputPromocion_coord").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputDigVer_coord").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57) && (inputValue != 75 && inputValue != 107)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputNombres_p").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputApellidoP_p").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputApellidoM_p").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputCiudad_p").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputRut_p").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputPromocion_p").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputDigVer_p").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57) && (inputValue != 75 && inputValue != 107)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputNombres_prof").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputApellidoP_prof").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputApellidoM_prof").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });
    $(document).ready(function(){
        $("#inputCiudad_prof").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 65 && inputValue <= 122) && (inputValue != 32 && inputValue != 0)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputRut_prof").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputPromocion_prof").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57)){
                event.preventDefault();
            }
        });
    });

    $(document).ready(function(){
        $("#inputDigVer_prof").keypress(function(event){
            var inputValue = event.charCode;
            if(!(inputValue >= 48 && inputValue <= 57) && (inputValue != 75 && inputValue != 107)){
                event.preventDefault();
            }
        });
    });


      $(function() {
        $("a.update").click(function() {
          var id = $(this).attr("id");
          var dataString = 'rut='+ id ;
          $.ajax({
            type: "GET",
            url: "http://localhost/CRUD_UPLA/index.php?view=actualizar",
            data: dataString,
            cache: false,
            success: function(){
            window.location.href = "http://localhost/CRUD_UPLA/index.php?view=actualizar&rut=" + id;
            }
          });

          return false;
        });
      });

      $(function() {
        $("a.update_c_alumno").click(function() {
          var id = $(this).attr("id");
          var nombres = document.getElementById('inputNombres_al').value;
          var apellidop = document.getElementById('inputApellidoP_al').value;
          var apellidom = document.getElementById('inputApellidoM_al').value;
          var rut = document.getElementById('inputRut_al').value;
          var dv = document.getElementById('inputDigVer_al').value;
          var correo = document.getElementById('inputCorreo_al').value;
          var direccion = document.getElementById('inputDireccion_al').value;
          var ciudad = document.getElementById('inputCiudad_al').value;
          var id_carrera = document.getElementById('inputCarrera_al').value;
          var promocion = document.getElementById('inputPromocion_al').value;;
          var image_perfil = document.getElementById('inputurl_foto_al').value;
          var estado = document.getElementById('inputEstado_al').value;
          var dataString = 'rut=' + rut + '&dv=' + dv + '&nombres=' + nombres + '&apellidop=' + apellidop + '&apellidom=' + apellidom + '&correo=' + correo + '&dir=' + direccion + '&ciudad=' + ciudad + '&id_carrera=' + id_carrera + '&promocion=' + promocion + '&image_perfil=' + image_perfil + '&estado=' + estado;
          $.ajax({
            type: "GET",
            url: "http://localhost/CRUD_UPLA/core/bin/ajax/actualizar.php",
            data: dataString,
            cache: false,
            success: function(){
              window.location.href = "http://localhost/CRUD_UPLA/core/bin/ajax/actualizar.php?rut=" + rut + '&dv=' + dv + '&nombres=' + nombres + '&apellidop=' + apellidop + '&apellidom=' + apellidom + '&correo=' + correo + '&dir=' + direccion + '&ciudad=' + ciudad + '&id_carrera=' + id_carrera + '&promocion=' + promocion + '&image_perfil=' + image_perfil + '&estado=' + estado;
            }
          });
          return false;
        });
      });

          function goLogin_admin() {
            var connect, form, response, result, nombre, pass, sesion;
            nombre = __('user_login_admin').value;
            pass = __('pass_login_admin').value;
            sesion = __('session_login_admin').checked ? true : false;
            form = 'nombre=' + nombre + '&pass=' + pass + '&sesion=' + sesion;
            connect = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');
            connect.onreadystatechange = function() {
            if(connect.readyState == 4 && connect.status == 200) {
              if(connect.responseText == 1) {
                result = '<div class="alert alert-dismissible alert-success">';
                result += '<h4>Conectado!</h4>';
                result += '<p><strong>Estamos redireccionandote...</strong></p>';
                result += '</div>';
                __('_AJAX_LOGIN_ADMIN').innerHTML = result;
                location.reload();
              } else {
                __('_AJAX_LOGIN_ADMIN').innerHTML = connect.responseText;
              }
            } else if(connect.readyState != 4) {
              result = '<div class="alert alert-dismissible alert-warning">';
              result += '<button type="button" class="close" data-dismiss="alert">x</button>';
              result += '<h4>Procesando...</h4>';
              result += '<p><strong>Estamos intentando logearte....</strong></p>';
              result += '</div>';
              __('_AJAX_LOGIN_ADMIN').innerHTML = result;
            }
          }
          connect.open('POST','ajax.php?mode=login_admin',true);
          connect.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
          connect.send(form);
        }

        function goLogin_prof() {
          var connect, form, response, result, nombre, pass, sesion;
          nombre = __('user_login_prof').value;
          pass = __('pass_login_prof').value;
          sesion = __('session_login_prof').checked ? true : false;
          form = 'nombre=' + nombre + '&pass=' + pass + '&sesion=' + sesion;
          connect = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');
          connect.onreadystatechange = function() {
          if(connect.readyState == 4 && connect.status == 200) {
            if(connect.responseText == 1) {
              result = '<div class="alert alert-dismissible alert-success">';
              result += '<h4>Conectado!</h4>';
              result += '<p><strong>Estamos redireccionandote...</strong></p>';
              result += '</div>';
              __('_AJAX_LOGIN_PROF').innerHTML = result;
              location.reload();
            } else {
              __('_AJAX_LOGIN_PROF').innerHTML = connect.responseText;
            }
          } else if(connect.readyState != 4) {
            result = '<div class="alert alert-dismissible alert-warning">';
            result += '<button type="button" class="close" data-dismiss="alert">x</button>';
            result += '<h4>Procesando...</h4>';
            result += '<p><strong>Estamos intentando logearte....</strong></p>';
            result += '</div>';
            __('_AJAX_LOGIN_PROF').innerHTML = result;
          }
        }
        connect.open('POST','ajax.php?mode=login_prof',true);
        connect.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
        connect.send(form);
      }

      function goLogin_coord() {
        var connect, form, response, result, nombre, pass, sesion;
        nombre = __('user_login_coord').value;
        pass = __('pass_login_coord').value;
        sesion = __('session_login_coord').checked ? true : false;
        form = 'nombre=' + nombre + '&pass=' + pass + '&sesion=' + sesion;
        connect = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');
        connect.onreadystatechange = function() {
        if(connect.readyState == 4 && connect.status == 200) {
          if(connect.responseText == 1) {
            result = '<div class="alert alert-dismissible alert-success">';
            result += '<h4>Conectado!</h4>';
            result += '<p><strong>Estamos redireccionandote...</strong></p>';
            result += '</div>';
            __('_AJAX_LOGIN_COORD').innerHTML = result;
            location.reload();
          } else {
            __('_AJAX_LOGIN_COORD').innerHTML = connect.responseText;
          }
        } else if(connect.readyState != 4) {
          result = '<div class="alert alert-dismissible alert-warning">';
          result += '<button type="button" class="close" data-dismiss="alert">x</button>';
          result += '<h4>Procesando...</h4>';
          result += '<p><strong>Estamos intentando logearte....</strong></p>';
          result += '</div>';
          __('_AJAX_LOGIN_COORD').innerHTML = result;
        }
      }
      connect.open('POST','ajax.php?mode=login_coord',true);
      connect.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
      connect.send(form);
    }

        function runScriptReg(e) {
          if(e.keyCode == 13) {
            goReg();
          }
        }

        function goReg_Alumno() {
          var connect, form, response, result, nombres, apellidop, apellidom, rut, dv, correo, direccion, ciudad, promocion, image_perfil, id_carrera;
          rut = __('inputRut').value;
          dv = __('inputDigVer').value;
          var res = rut.split("");
          var op = [3,2,7,6,5,4,3,2];
          var suma = 0;
          var resto;
          var dv_result;

          for (i = 0; i < 8; i++) {

              suma = suma + res[i]*op[i]
          }

          resto = suma % 11

          dv_result = 11 - resto;

          nombres = __('inputNombres').value;
          apellidop = __('inputApellidoP').value;
          apellidom = __('inputApellidoM').value;
          correo = __('inputCorreo').value;
          direccion = __('inputDireccion').value;
          ciudad = __('inputCiudad').value;
          image_perfil = __('inputFoto').value;
          promocion = __('inputPromocion').value;
          id_carrera = __('inputCarrera').value;

          if(nombres != '' && apellidop != '' && apellidom != '' && rut != '' && dv != '' && correo != '' && direccion != ''
           && ciudad != '' && promocion != '' &&  id_carrera != '') {
            if(dv_result == dv) {
                form = 'nombres=' + nombres + '&apellidop=' + apellidop + '&apellidom=' + apellidom + '&rut=' + rut + '&dv=' + dv + '&direccion=' + direccion
                     + '&ciudad=' + ciudad + '&correo=' + correo+ '&image_perfil=' + image_perfil + '&promocion=' + promocion + '&id_carrera=' + id_carrera;
                connect = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');
                connect.onreadystatechange = function() {
                  if(connect.readyState == 4 && connect.status == 200) {
                    if(connect.responseText == 1) {
                      result = '<div class="alert alert-dismissible alert-success">';
                      result += '<h4>Registro completado!</h4>';
                      result += '<p><strong>Estamos redireccionandote...</strong></p>';
                      result += '</div>';
                      __('_AJAX_REG_ALUMNO').innerHTML = result;
                      location.reload();
                    } else {
                      __('_AJAX_REG_ALUMNO').innerHTML = connect.responseText;
                    }
                  } else if(connect.readyState != 4) {
                    result = '<div class="alert alert-dismissible alert-warning">';
                    result += '<button type="button" class="close" data-dismiss="alert">x</button>';
                    result += '<h4>Procesando...</h4>';
                    result += '<p><strong>Estamos procesando tu registro...</strong></p>';
                    result += '</div>';
                    __('_AJAX_REG_ALUMNO').innerHTML = result;
                  }
                }
                connect.open('POST','ajax.php?mode=reg_alumno',true);
                connect.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
                connect.send(form);
              } else {
              result = '<div class="alert alert-dismissible alert-danger">';
              result += '<button type="button" class="close" data-dismiss="alert">x</button>';
              result += '<h4>ERROR</h4>';
              result += '<p><strong>El RUT ingresado no es válido.</strong></p>';
              result += '</div>';
              __('_AJAX_REG_ALUMNO').innerHTML = result;
            }
          } else {
            result = '<div class="alert alert-dismissible alert-danger">';
            result += '<button type="button" class="close" data-dismiss="alert">x</button>';
            result += '<h4>ERROR</h4>';
            result += '<p><strong>Todos los campos deben estar llenos.</strong></p>';
            result += '</div>';
            __('_AJAX_REG_ALUMNO').innerHTML = result;
          }

        }

        function goReg_Profesor() {
          var connect, form, response, result, nombres, apellidop, apellidom, rut, dv, correo, direccion, ciudad, pass, pass_dos;

          rut = __('inputRut_p').value;
          dv = __('inputDigVer_p').value;
          var res = rut.split("");
          var op = [3,2,7,6,5,4,3,2];
          var suma = 0;
          var resto;
          var dv_result;

          for (i = 0; i < 8; i++) {

              suma = suma + res[i]*op[i]
          }

          resto = suma % 11

          dv_result = 11 - resto;
          nombres = __('inputNombres_p').value;
          apellidop = __('inputApellidoP_p').value;
          apellidom = __('inputApellidoM_p').value;
          correo = __('inputCorreo_p').value;
          direccion = __('inputDireccion_p').value;
          ciudad = __('inputCiudad_p').value;
          pass = __('inputPass_p').value;
          pass_dos = __('inputPass_dos_p').value;
          image_perfil = __('inputFoto_p').value;

            if(nombres != '' && apellidop != '' && apellidom != '' && rut != '' && dv != '' && correo != '' && direccion != ''
             && ciudad != '' && pass != '' && pass_dos != '') {
              if(pass == pass_dos) {
                  if(dv_result == dv) {
                form = 'nombres=' + nombres + '&apellidop=' + apellidop + '&apellidom=' + apellidom + '&rut=' + rut + '&dv=' + dv + '&direccion=' + direccion
                     + '&ciudad=' + ciudad + '&pass=' + pass+ '&correo=' + correo+ '&image_perfil=' + image_perfil;
                connect = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');
                connect.onreadystatechange = function() {
                  if(connect.readyState == 4 && connect.status == 200) {
                    if(connect.responseText == 1) {
                      result = '<div class="alert alert-dismissible alert-success">';
                      result += '<h4>Registro completado!</h4>';
                      result += '<p><strong>Estamos redireccionandote...</strong></p>';
                      result += '</div>';
                      __('_AJAX_REG_PROFESOR').innerHTML = result;
                      location.reload();
                    } else {
                      __('_AJAX_REG_PROFESOR').innerHTML = connect.responseText;
                    }
                  } else if(connect.readyState != 4) {
                    result = '<div class="alert alert-dismissible alert-warning">';
                    result += '<button type="button" class="close" data-dismiss="alert">x</button>';
                    result += '<h4>Procesando...</h4>';
                    result += '<p><strong>Estamos procesando tu registro...</strong></p>';
                    result += '</div>';
                    __('_AJAX_REG_PROFESOR').innerHTML = result;
                  }
                }
                connect.open('POST','ajax.php?mode=reg_profesor',true);
                connect.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
                connect.send(form);
              } else {
                result = '<div class="alert alert-dismissible alert-danger">';
                result += '<button type="button" class="close" data-dismiss="alert">x</button>';
                result += '<h4>ERROR</h4>';
                result += '<p><strong>El RUT Ingreaso no es válido.</strong></p>';
                result += '</div>';
                __('_AJAX_REG_PROFESOR').innerHTML = result;
              }
            }  else {
                result = '<div class="alert alert-dismissible alert-danger">';
                result += '<button type="button" class="close" data-dismiss="alert">x</button>';
                result += '<h4>ERROR</h4>';
                result += '<p><strong>Las contraseñas no coinciden.</strong></p>';
                result += '</div>';
                __('_AJAX_REG_PROFESOR').innerHTML = result;
              }
            } else {
              result = '<div class="alert alert-dismissible alert-danger">';
              result += '<button type="button" class="close" data-dismiss="alert">x</button>';
              result += '<h4>ERROR</h4>';
              result += '<p><strong>Todos los campos deben estar llenos.</strong></p>';
              result += '</div>';
              __('_AJAX_REG_PROFESOR').innerHTML = result;
            }

        }

        function goReg_Coordinador() {
          var connect, form, response, result, nombres, apellidop, apellidom, rut, dv, correo, direccion, ciudad, pass, pass_dos;

          rut = __('inputRut_c').value;
          dv = __('inputDigVer_c').value;
          var res = rut.split("");
          var op = [3,2,7,6,5,4,3,2];
          var suma = 0;
          var resto;
          var dv_result;

          for (i = 0; i < 8; i++) {

              suma = suma + res[i]*op[i]
          }

          resto = suma % 11

          dv_result = 11 - resto;

          nombres = __('inputNombres_c').value;
          apellidop = __('inputApellidoP_c').value;
          apellidom = __('inputApellidoM_c').value;
          rut = __('inputRut_c').value;
          dv = __('inputDigVer_c').value;
          correo = __('inputCorreo_c').value;
          direccion = __('inputDireccion_c').value;
          ciudad = __('inputCiudad_c').value;
          pass = __('inputPass_c').value;
          pass_dos = __('inputPass_dos_c').value;
          image_perfil = __('inputFoto_c').value;

            if(nombres != '' && apellidop != '' && apellidom != '' && rut != '' && dv != '' && correo != '' && direccion != ''
             && ciudad != '' && pass != '' && pass_dos != '') {
               if(pass == pass_dos) {
                   if(dv_result == dv) {
                     form = 'nombres=' + nombres + '&apellidop=' + apellidop + '&apellidom=' + apellidom + '&rut=' + rut + '&dv=' + dv + '&direccion=' + direccion
                     + '&ciudad=' + ciudad + '&pass=' + pass+ '&correo=' + correo+ '&image_perfil=' + image_perfil;
                connect = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');
                connect.onreadystatechange = function() {
                  if(connect.readyState == 4 && connect.status == 200) {
                    if(connect.responseText == 1) {
                      result = '<div class="alert alert-dismissible alert-success">';
                      result += '<h4>Registro completado!</h4>';
                      result += '<p><strong>Estamos redireccionandote...</strong></p>';
                      result += '</div>';
                      __('_AJAX_REG_COORDINADOR').innerHTML = result;
                      location.reload();
                    } else {
                      __('_AJAX_REG_COORDINADOR').innerHTML = connect.responseText;
                    }
                  } else if(connect.readyState != 4) {
                    result = '<div class="alert alert-dismissible alert-warning">';
                    result += '<button type="button" class="close" data-dismiss="alert">x</button>';
                    result += '<h4>Procesando...</h4>';
                    result += '<p><strong>Estamos procesando tu registro...</strong></p>';
                    result += '</div>';
                    __('_AJAX_REG_COORDINADOR').innerHTML = result;
                  }
                }
                connect.open('POST','ajax.php?mode=reg_coordinador',true);
                connect.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
                connect.send(form);
              } else {
                result = '<div class="alert alert-dismissible alert-danger">';
                result += '<button type="button" class="close" data-dismiss="alert">x</button>';
                result += '<h4>ERROR</h4>';
                result += '<p><strong>El RUT Ingreaso no es válido.</strong></p>';
                result += '</div>';
                __('_AJAX_REG_COORDINADOR').innerHTML = result;
              }
            }
              else {
                result = '<div class="alert alert-dismissible alert-danger">';
                result += '<button type="button" class="close" data-dismiss="alert">x</button>';
                result += '<h4>ERROR</h4>';
                result += '<p><strong>Las contraseñas no coinciden.</strong></p>';
                result += '</div>';
                __('_AJAX_REG_COORDINADOR').innerHTML = result;
              }
            } else {
              result = '<div class="alert alert-dismissible alert-danger">';
              result += '<button type="button" class="close" data-dismiss="alert">x</button>';
              result += '<h4>ERROR</h4>';
              result += '<p><strong>Todos los campos deben estar llenos.</strong></p>';
              result += '</div>';
              __('_AJAX_REG_COORDINADOR').innerHTML = result;
            }

        }

        $(function() {
          $("#ok").show();
          $("#habilitar_update").show();
          $(".actualizar").hide();
          $("a.actualizar").click(function() {
            var id = $(this).attr("id");
            var correo = document.getElementById('correo_update').value;
            var direccion = document.getElementById('direccion_update').value;
            var ciudad = document.getElementById('ciudad_update').value;
            var image_perfil = document.getElementById('URL_Foto_update').value;
            var dataString = '&correo=' + correo + '&direccion=' + direccion + '&ciudad=' + ciudad + '&image_perfil=' + image_perfil;
            $.ajax({
              type: "GET",
              url: "http://localhost/CRUD_UPLA/core/bin/ajax/actualizar_update.php?id=" + id,
              data: dataString,
              cache: false,
              success: function(data){
                $("#ok").html(data);
                $("#ok").show();
                $('.inputDisabled_correo').attr('disabled', 'disabled');
                $('.inputDisabled_direccion').attr('disabled', 'disabled');
                $('.inputDisabled_ciudad').attr('disabled', 'disabled');
                $('.inputDisabled_URL_Foto').attr('disabled', 'disabled');
                $(".actualizar").hide();
                $("#habilitar_update").show();

                }
            });
            return false;
          });
        });

        $("#habilitar_update").click(function(event){
          if(confirm("¿Estas seguro de que deseas actualizar tus datos?")) {

            event.preventDefault();
            $('.inputDisabled_correo').removeAttr("disabled");
            $('.inputDisabled_direccion').removeAttr("disabled");
            $('.inputDisabled_ciudad').removeAttr("disabled");
            $('.inputDisabled_URL_Foto').removeAttr("disabled");
            $("#habilitar_update").hide();
            $(".actualizar").show();
          }
          });

          $(document).ready(function(){

          loadGallery(true, 'a.thumbnail');

          //This function disables buttons when needed
          function disableButtons(counter_max, counter_current){
              $('#show-previous-image, #show-next-image').show();
              if(counter_max == counter_current){
                  $('#show-next-image').hide();
              } else if (counter_current == 1){
                  $('#show-previous-image').hide();
              }
          }

          /**
           *
           * @param setIDs        Sets IDs when DOM is loaded. If using a PHP counter, set to false.
           * @param setClickAttr  Sets the attribute for the click handler.
           */

          function loadGallery(setIDs, setClickAttr){
              var current_image,
                  selector,
                  counter = 0;

              $('#show-next-image, #show-previous-image').click(function(){
                  if($(this).attr('id') == 'show-previous-image'){
                      current_image--;
                  } else {
                      current_image++;
                  }

                  selector = $('[data-image-id="' + current_image + '"]');
                  updateGallery(selector);
              });

              function updateGallery(selector) {
                  var $sel = selector;
                  current_image = $sel.data('image-id');
                  $('#image-gallery-caption').text($sel.data('caption'));
                  $('#image-gallery-title').text($sel.data('title'));
                  $('#image-gallery-image').attr('src', $sel.data('image'));
                  disableButtons(counter, $sel.data('image-id'));
              }

              if(setIDs == true){
                  $('[data-image-id]').each(function(){
                      counter++;
                      $(this).attr('data-image-id',counter);
                  });
              }
              $(setClickAttr).on('click',function(){
                  updateGallery($(this));
              });
          }
      });

$(document).ready(function(){
  $('.dropdown-submenu a.test').on("click", function(e){
    $(this).next('ul').toggle();
    e.stopPropagation();
    e.preventDefault();
  });
});

$(function() {
  $("a.update_coord").click(function() {
    var id = $(this).attr("id");
    var dataString = 'id='+ id ;
    $.ajax({
      type: "GET",
      url: "http://localhost/CRUD_UPLA/index.php?view=actualizar_coordinador",
      data: dataString,
      cache: false,
      success: function(){
      window.location.href = "http://localhost/CRUD_UPLA/index.php?view=actualizar_coordinador&id=" + id;
      }
    });

    return false;
  });
});

$(function() {
  $("a.update_profesor").click(function() {
    var id = $(this).attr("id");
    var dataString = 'id='+ id ;
    $.ajax({
      type: "GET",
      url: "http://localhost/CRUD_UPLA/index.php?view=actualizar_profesor",
      data: dataString,
      cache: false,
      success: function(){
      window.location.href = "http://localhost/CRUD_UPLA/index.php?view=actualizar_profesor&id=" + id;
      }
    });

    return false;
  });
});


$(function() {
  $("a.update_c_coordinador").click(function() {
    var id = $(this).attr("id");
    var nombres = document.getElementById('inputNombres_coord').value;
    var apellidop = document.getElementById('inputApellidoP_coord').value;
    var apellidom = document.getElementById('inputApellidoM_coord').value;
    var rut = document.getElementById('inputRut_coord').value;
    var dv = document.getElementById('inputDigVer_coord').value;
    var correo = document.getElementById('inputCorreo_coord').value;
    var direccion = document.getElementById('inputDireccion_coord').value;
    var ciudad = document.getElementById('inputCiudad_coord').value;
    var imagen_perfil = document.getElementById('inputurl_foto_coord').value;
    var pass = document.getElementById('input_Pass_coord').value;
    var estado = document.getElementById('inputEstado_coord').value;
    var dataString = '&id=' + id + '&nombres=' + nombres + '&apellidop=' + apellidop + '&apellidom=' + apellidom + '&rut=' + rut + '&dv=' + dv + '&correo=' + correo + '&dir=' + direccion + '&ciudad=' + ciudad + '&imagen_perfil=' + imagen_perfil +
                     '&estado=' + estado + '&pass=' + pass;
    $.ajax({
      type: "GET",
      url: "http://localhost/CRUD_UPLA/core/bin/ajax/actualizar_coordinador.php",
      data: dataString,
      cache: false,
      success: function(){
        window.location.href = "http://localhost/CRUD_UPLA/core/bin/ajax/actualizar_coordinador.php?id=" + id + '&rut=' + rut + '&dv=' + dv + '&nombres=' + nombres + '&apellidop=' + apellidop + '&apellidom=' + apellidom + '&correo=' + correo + '&dir=' + direccion +
        '&ciudad=' + ciudad + '&imagen_perfil=' + imagen_perfil + '&estado=' + estado + '&pass=' + pass;
      }
    });
    return false;
  });
});

$(function() {
  $("a.update_c_profesor").click(function() {
    var id = $(this).attr("id");
    var nombres = document.getElementById('inputNombres_prof').value;
    var apellidop = document.getElementById('inputApellidoP_prof').value;
    var apellidom = document.getElementById('inputApellidoM_prof').value;
    var rut = document.getElementById('inputRut_prof').value;
    var dv = document.getElementById('inputDigVer_prof').value;
    var correo = document.getElementById('inputCorreo_prof').value;
    var direccion = document.getElementById('inputDireccion_prof').value;
    var ciudad = document.getElementById('inputCiudad_prof').value;
    var image_perfil = document.getElementById('inputurl_foto_prof').value;
    var pass = document.getElementById('input_Pass_prof').value;
    var estado = document.getElementById('inputEstado_prof').value;
    var dataString = '&id=' + id + '&nombres=' + nombres + '&apellidop=' + apellidop + '&apellidom=' + apellidom + '&rut=' + rut + '&dv=' + dv + '&correo=' + correo + '&dir=' + direccion + '&ciudad=' + ciudad + '&image_perfil=' + image_perfil +
                     '&estado=' + estado + '&pass=' + pass;
    $.ajax({
      type: "GET",
      url: "http://localhost/CRUD_UPLA/core/bin/ajax/actualizar_profesor.php",
      data: dataString,
      cache: false,
      success: function(){
        window.location.href = "http://localhost/CRUD_UPLA/core/bin/ajax/actualizar_profesor.php?id=" + id + '&rut=' + rut + '&dv=' + dv + '&nombres=' + nombres + '&apellidop=' + apellidop + '&apellidom=' + apellidom + '&correo=' + correo + '&dir=' + direccion +
        '&ciudad=' + ciudad + '&image_perfil=' + image_perfil + '&estado=' + estado + '&pass=' + pass;
      }
    });
    return false;
  });
});
